RewriteEngine On

# Redirect all API requests to the backend/api directory
RewriteRule ^api/(.*)$ backend/api/$1 [L,QSA]

# Security - prevent directory listing
Options -Indexes

# Protect sensitive files
<Files ~ "\.(env|log|sql)$">
    Deny from all
</Files>

<Files "database.php">
    Deny from all
</Files>

# Enable CORS for API
Header always set Access-Control-Allow-Origin "*"
Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
Header always set Access-Control-Allow-Headers "Content-Type, Authorization"